# Default values for picoclaw
# This is a YAML-formatted file.

replicaCount: 1

image:
  repository: ghcr.io/carev01/picoclaw-helm/picoclaw
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion.
  tag: "v0.1.1"

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

serviceAccount:
  # Specifies whether a service account should be created
  create: true
  # Annotations to add to the service account
  annotations: {}
  # The name of the service account to use.
  # If not set and create is true, a name is generated using the fullname template
  name: ""

podAnnotations: {}

podSecurityContext:
  fsGroup: 1000

securityContext:
  runAsNonRoot: true
  runAsUser: 1000
  allowPrivilegeEscalation: false
  capabilities:
    drop:
      - ALL

service:
  type: ClusterIP
  port: 8080
  annotations: {}

ingress:
  enabled: false
  className: ""
  annotations: {}
  # kubernetes.io/ingress.class: nginx
  # kubernetes.io/tls-acme: "true"
  hosts:
    - host: picoclaw.example.com
      paths:
        - path: /
          pathType: Prefix
  tls: []
  #  - secretName: picoclaw-tls
  #    hosts:
  #      - picoclaw.example.com

resources:
  limits:
    cpu: 500m
    memory: 256Mi
  requests:
    cpu: 100m
    memory: 64Mi

persistence:
  enabled: true
  # If defined, storageClassName: <storageClass>
  # If set to "-", storageClassName: "", which disables dynamic provisioning
  # If undefined (the default) or set to null, no storageClassName spec is
  #   set, choosing the default provisioner.
  storageClass: ""
  accessMode: ReadWriteOnce
  size: 2Gi
  annotations: {}

# Authentication configuration
auth:
  # Username for Basic Auth. Defaults to "admin" if not set.
  username: "admin"
  # Password for Basic Auth. If not set, a random password will be generated
  # and printed in the deployment logs. Check the pod logs to retrieve it.
  password: ""

# Use an existing secret for authentication credentials
# If set, auth.username and auth.password will be ignored
# The secret must contain keys: ADMIN_USERNAME and ADMIN_PASSWORD
existingSecret: ""

# Node selector for pod scheduling
nodeSelector: {}

# Tolerations for pod scheduling
tolerations: []

# Affinity for pod scheduling
affinity: {}

# Liveness probe configuration
livenessProbe:
  enabled: true
  httpGet:
    path: /health
    port: 8080
  initialDelaySeconds: 10
  periodSeconds: 30
  timeoutSeconds: 5
  failureThreshold: 3

# Readiness probe configuration
readinessProbe:
  enabled: true
  httpGet:
    path: /health
    port: 8080
  initialDelaySeconds: 5
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 3
